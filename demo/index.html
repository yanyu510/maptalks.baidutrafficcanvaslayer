<!DOCTYPE html>
<html>
<head>
  <title>maptalks.heatmap demo</title>
  <link type="text/css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/maptalks/dist/maptalks.css">
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/maptalks/dist/maptalks.min.js"></script>
  <script type="text/javascript" src="../dist/maptalks.baidutrafficcanvaslayer.js"></script>
  <style>
    html,body{
        margin:0px;
        height:100%;
        width: 100%;
    }
    #map { width: 100%; height: 100%; }
  </style>
</head>
<body>
<div id="map"></div>
<script>
var map = new maptalks.Map("map",{
    center : [114, 37.90258],
    zoom   :  15,
    spatialReference: {
        projection: 'baidu'
    },
    baseLayer : new maptalks.TileLayer('tile',{
        urlTemplate: 'http://online1.map.bdimg.com/onlinelabel/?qt=tile&x={x}&y={y}&z={z}&styles=pl&scaler=1&p=1'
    })
});

new maptalks.BaiduTrafficCanvasLayer('traffic', {
    urlTemplate: 'http://ip:port/traffic/?qt=traffic'
}).addTo(map);

</script>
</body>
</html>